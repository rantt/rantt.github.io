var Game={w:800,h:600};Game.Boot=function(e){this.game=e},Game.Boot.prototype={preload:function(){this.game.stage.backgroundColor="#ececec",this.game.load.image("loading","assets/images/loading.png"),this.game.load.image("title","assets/images/title.png"),this.game.load.image("instructions","assets/images/instructions.png")},create:function(){this.game.state.start("Load")}},Game.Load=function(e){this.game=e},Game.Load.prototype={preload:function(){var e=this.game.add.text(Game.w,Game.h,"Loading...",{font:"30px Helvetica",fill:"#000"});e.anchor.setTo(.5,.5);var t=this.game.add.sprite(Game.w/2-64,Game.h/2+50,"loading");this.game.load.setPreloadSprite(t)},create:function(){this.game.state.start("Menu")}},Game.Menu=function(e){this.game=e},Game.Menu.prototype={create:function(){this.title=this.game.add.sprite(Game.w/2,Game.h/2-100,"title"),this.title.anchor.setTo(.5,.5),this.instructions=this.game.add.sprite(Game.w/2+200,200,"instructions"),this.instructions.scale.x=.5,this.instructions.scale.y=.5;var e=this.game.add.text(Game.w/2,Game.h/2-50,"~click to start~",{font:"30px Helvetica",fill:"#000"});e.anchor.setTo(.5,.5)},update:function(){this.game.input.activePointer.isDown&&this.game.state.start("Play")}};var wKey,aKey,sKey,dKey;Game.Play=function(e){this.game=e},Game.Play.prototype={preload:function(){this.squarebmd=this.game.add.bitmapData(100,100),this.squarebmd.ctx.fillStyle="#000",this.squarebmd.ctx.beginPath(),this.squarebmd.ctx.arc(30,20,10,0,2*Math.PI,!0),this.squarebmd.ctx.closePath(),this.squarebmd.ctx.fill()},create:function(){this.game.world.setBounds(0,0,Game.w,Game.h),this.game.physics.startSystem(Phaser.Physics.P2JS),this.game.physics.p2.gravity.y=1200,this.createRope(20,400,64),wKey=this.game.input.keyboard.addKey(Phaser.Keyboard.W),aKey=this.game.input.keyboard.addKey(Phaser.Keyboard.A),sKey=this.game.input.keyboard.addKey(Phaser.Keyboard.S),dKey=this.game.input.keyboard.addKey(Phaser.Keyboard.D)},createRope:function(e,t,a){for(var s,i=20,o=16,n=2e4,m=0;e>=m;m++){var r=t,d=a+m*i,h=this.game.rnd.between(0,4);this.colors=[16711680,255,16776960,65535,65280],m%2===0?newRect=this.game.add.sprite(r,d,this.squarebmd,1):(newRect=this.game.add.sprite(r,d,this.squarebmd,0),s.bringToTop()),newRect.tint=this.colors[h],this.game.physics.p2.enable(newRect,!1),newRect.body.setRectangle(o,i),0===m?newRect.body["static"]=!0:(newRect.body.velocity.x=400,newRect.body.mass=e/m),s&&this.game.physics.p2.createRevoluteConstraint(newRect,[0,-10],s,[0,10],n),s=newRect}},update:function(){}};var game=new Phaser.Game(Game.w,Game.h,Phaser.AUTO,"game");game.state.add("Boot",Game.Boot),game.state.add("Load",Game.Load),game.state.add("Menu",Game.Menu),game.state.add("Play",Game.Play),game.state.start("Boot");