var Game={w:600,h:600};Game.Boot=function(t){this.game=t},null===localStorage.getItem("highestScore")&&localStorage.setItem("highestScore",0),Game.Boot.prototype={preload:function(){this.game.stage.backgroundColor="#000",this.game.load.image("loading","assets/images/loading.png"),this.game.load.image("title","assets/images/title.png"),this.game.load.image("instructions","assets/images/instructions.png"),this.game.load.bitmapFont("minecraftia","assets/fonts/font.png","assets/fonts/font.xml"),this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.maxHeight=window.innerHeight,this.game.scale.maxWidth=window.innerHeight*(Game.w/Game.h),this.game.stage.scale.pageAlignHorizontally=!0,this.game.stage.scale.pageAlignVeritcally=!0,this.game.scale.setScreenSize(!0),this.game.load.image("twitter","assets/images/twitter.png"),this.game.load.image("clickHere","assets/images/clickhere.png")},create:function(){this.game.state.start("Load")}},Game.Load=function(t){this.game=t},Game.Load.prototype={preload:function(){var t=this.game.add.text(Game.w,Game.h,"Loading...",{font:"30px Helvetica",fill:"#000"});t.anchor.setTo(.5,.5);var e=this.game.add.sprite(Game.w/2-64,Game.h/2+50,"loading");this.game.load.setPreloadSprite(e)},create:function(){this.game.state.start("Menu")}},Game.Menu=function(t){this.game=t},Game.Menu.prototype={create:function(){this.title=this.game.add.sprite(Game.w/2,Game.h/2-100,"title"),this.title.anchor.setTo(.5,.5)},update:function(){this.game.input.activePointer.isDown&&this.game.state.start("Play")}},Game.Play=function(t){this.game=t},Game.Play.prototype={preload:function(){this.matchThree=new MatchThree(this.game),this.matchThree.preload()},create:function(){this.game.world.setBounds(0,0,Game.w,Game.h),this.highestScore=JSON.parse(localStorage.getItem("highestScore")),this.matchThree.create(),this.matchThree.initialBoard(),this.moveText=this.game.add.bitmapText(Game.w-120,16,"minecraftia","0/"+this.matchThree.moveLimit,32),this.scoreText=this.game.add.bitmapText(20,16,"minecraftia","Score: "+this.matchThree.highScore,32)},update:function(){this.scoreText.setText("Score: "+this.matchThree.highScore),this.moveText.setText(this.matchThree.moveCount+"/"+this.matchThree.moveLimit),this.matchThree.moveCount===this.matchThree.moveLimit&&(Game.score=this.matchThree.highScore,this.matchThree.highScore>this.highestScore&&localStorage.setItem("highestScore",this.matchThree.highScore),this.game.state.start("Outro"))}};var MatchThree=function(t){this.game=t,this.boardWidth=8,this.boardHeight=7,this.moveCount=0,this.moveLimit=20,this.chainCount=1,this.board=[],this.selectedTile=null,this.idCount=0,this.highScore=0,this.rewind=!1};MatchThree.prototype={preload:function(){this.squarebmd=this.game.add.bitmapData(55,55),this.squarebmd.ctx.strokeStyle="#000",this.squarebmd.ctx.rect(0,0,55,55),this.squarebmd.ctx.fillStyle="#fff",this.squarebmd.ctx.fill(),this.game.load.audio("match","assets/audio/match3.wav"),this.game.load.audio("select","assets/audio/select.wav")},create:function(){this.matchTiles=this.game.add.group(),this.matchTiles.createMultiple(64,this.squarebmd),this.matchTiles.setAll("anchor.x",.5),this.matchTiles.setAll("anchor.y",.5),this.matchSnd=this.game.add.sound("match"),this.matchSnd.volume=.5,this.selectSnd=this.game.add.sound("select"),this.selectSnd.volume=.5,this.colors=[16711680,255,16776960,65535,65280],this.bonusText=this.game.add.bitmapText(Game.w/2,Game.h/2,"minecraftia","",48),this.bonusText.align="center",this.chainText=this.game.add.bitmapText(Game.w/2,Game.h/2,"minecraftia","",48),this.chainText.fontWeight="bold",this.chainText.align="center",this.chainText.tint=16711680},addTile:function(){var t=this.game.rnd.between(0,4),e=this.matchTiles.getFirstDead();return e._id=this.idCount,e.spriteNum=t,e.tint=this.colors[t],e.inputEnabled=!0,e.events.onInputDown.add(this.clickTile,this),e.reset(this.game.world.centerX,-this.game.world.centerY),this.idCount++,e},initialBoard:function(){this.board=[];for(var t=0;t<this.boardWidth;t++){for(var e=[],n=0;n<this.boardHeight;n++){var r=this.addTile();e.push(r)}this.board.push(e)}return this.removeMatches(),this.drawBoard(),this.board},removeMatches:function(){for(var t=0;t<this.boardWidth;t++)for(var e=0;e<this.boardHeight;e++)for(var n=this.board[t][e];this.horizontalMatch(n).length>0||this.verticalMatch(n).length>0;){var r=this.game.rnd.between(0,4);this.board[t][e].spriteNum=r,this.board[t][e].tint=this.colors[r]}},drawBoard:function(){if(!this.swapping){this.swapping=!0;for(var t=0;t<this.boardWidth;t++)for(var e=0;e<this.boardHeight;e++){var n=64*t+80,r=500-64*e,i=this.board[t][e];if(i.x!==n||i.y!==r)var o=this.game.add.tween(i).to({x:n,y:r},300).start()}o.onComplete.add(function(){this.swapping=!1;var t=this.scoreMatches();if(t>0){if(this.chainCount>1){this.chainText.setText("Chain Bonus x "+this.chainCount),this.chainText.updateText(),this.chainText.x=this.game.world.centerX-.5*this.chainText.textWidth,this.chainText.y=this.game.world.centerY-300,this.chainText.alpha=1;{this.game.add.tween(this.chainText).to({y:Game.w/2+300,alpha:0},1e3).start()}}this.matchSnd.play(),this.highScore+=t,console.log(this.highScore),this.chainCount+=1,this.drawBoard()}else this.chainCount=1},this)}},horizontalMatch:function(t){var e=this.getPosition(t);if(0===e.i||e.i===this.boardWidth-1)return[];var n=this.board[e.i-1][e.j],r=this.board[e.i+1][e.j];return t.spriteNum===n.spriteNum&&t.spriteNum===r.spriteNum?[n._id,t._id,r._id]:[]},verticalMatch:function(t){var e=this.getPosition(t);if(0===e.j||e.j===this.boardHeight-1)return[];var n=this.board[e.i][e.j-1],r=this.board[e.i][e.j+1];return t.spriteNum===n.spriteNum&&t.spriteNum===r.spriteNum?[n._id,t._id,r._id]:[]},getMatches:function(){var t=[];return this.matchTiles.forEach(function(e){e.alive&&(t=_.union(t,this.horizontalMatch(e),this.verticalMatch(e)))},this),t},scoreMatches:function(){for(var t=this.getMatches(),e=t.length,n=0;n<this.boardWidth;n++)for(var r=0;r<this.boardHeight;r++){var i=this.board[n][r];t.indexOf(i._id)>-1&&(i.kill(),this.board[n].splice(r,1),this.board[n].push(this.addTile()),r--)}return t.length>3&&(e=this.matchBonus(e)),this.chainCount>0&&(e*=this.chainCount),e},matchBonus:function(t){var e=2*Math.round(t/2);this.bonusText.setText("Match "+t+" Bonus"),this.bonusText.updateText(),this.bonusText.x=this.game.world.centerX-.5*this.bonusText.textWidth,this.bonusText.y=this.game.world.centerY-300,this.bonusText.alpha=1;this.game.add.tween(this.bonusText).to({y:Game.w/2+300,alpha:0},1500).start();return t*e},clickTile:function(t){null===this.selectedTile?(this.selectSnd.play(),this.selectedTile=t):t.y===this.selectedTile.y&&t.x===this.selectedTile.x?(this.game.tweens.remove(this.t),t.angle=0,this.selectedTile=null):this.isAdjacent(this.selectedTile,t)?(this.game.tweens.remove(this.t),this.selectedTile.angle=0,this.scored=!1,this.swapPositions(this.selectedTile,t),this.selectedTile=null):(this.game.tweens.remove(this.t),this.selectedTile.angle=0,this.selectedTile=null),null!==this.selectedTile&&(this.t=this.game.add.tween(this.selectedTile).to({angle:this.selectedTile.angle+180},600,Phaser.Easing.Linear.None).to({angle:this.selectedTile.angle},600,Phaser.Easing.Linear.None).start().loop())},swapPositions:function(t,e){var n=this.getPosition(t),r=this.getPosition(e);this.board[n.i][n.j]=e,this.board[r.i][r.j]=t;var i=this.getMatches().length;0!==i?(this.moveCount+=1,this.drawBoard()):(this.board[n.i][n.j]=t,this.board[r.i][r.j]=e)},getPosition:function(t){for(var e=0;e<this.boardWidth;e++){var n=this.board[e].indexOf(t);if(n>-1)return{i:e,j:n}}return{}},isAdjacent:function(t,e){var n=this.getPosition(t),r=this.getPosition(e);return(r.i!==n.i||r.j!==n.j-1&&r.j!==n.j+1)&&(r.j!==n.j||r.i!==n.i-1&&r.i!==n.i+1)?!1:!0}},function(){function t(t,e){if(t!==e){var n=t===t,r=e===e;if(t>e||!n||"undefined"==typeof t&&r)return 1;if(e>t||!r||"undefined"==typeof e&&n)return-1}return 0}function e(t,e,n){if(e!==e)return p(t,n);n=(n||0)-1;for(var r=t.length;++n<r;)if(t[n]===e)return n;return-1}function n(t){return"function"==typeof t||!1}function r(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].c;return t}function i(t){return"string"==typeof t?t:null==t?"":t+""}function o(t){return t.charCodeAt(0)}function a(t,e){for(var n=-1,r=t.length;++n<r&&-1<e.indexOf(t.charAt(n)););return n}function u(t,e){for(var n=t.length;n--&&-1<e.indexOf(t.charAt(n)););return n}function c(e,n){return t(e.a,n.a)||e.b-n.b}function s(e,n){for(var r=-1,i=e.a,o=n.a,a=i.length;++r<a;){var u=t(i[r],o[r]);if(u)return u}return e.b-n.b}function l(t){return Me[t]}function f(t){return We[t]}function h(t){return"\\"+Pe[t]}function p(t,e,n){var r=t.length;for(e=n?e||r:(e||0)-1;n?e--:++e<r;){var i=t[e];if(i!==i)return e}return-1}function g(t){return t&&"object"==typeof t||!1}function d(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function m(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;)t[n]===e&&(t[n]=F,o[++i]=n);return o}function v(t){for(var e=-1,n=t.length;++e<n&&d(t.charCodeAt(e)););return e}function _(t){for(var e=t.length;e--&&d(t.charCodeAt(e)););return e}function y(t){return Ne[t]}function w(d){function Me(t){if(g(t)&&!(Mo(t)||t instanceof Be)){if(t instanceof Ne)return t;if(Bi.call(t,"__chain__")&&Bi.call(t,"__wrapped__"))return mr(t)}return new Ne(t)}function We(){}function Ne(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function Be(t){this.__wrapped__=t,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=po,this.__views__=null}function Pe(){this.__data__={}}function Fe(t){var e=t?t.length:0;for(this.data={hash:ro(null),set:new Ki};e--;)this.push(t[e])}function Ue(t,e){var n=t.data;return("string"==typeof e||Qr(e)?n.set.has(e):n.hash[e])?0:-1}function He(t,e){var n=-1,r=t.length;for(e||(e=xi(r));++n<r;)e[n]=t[n];return e}function Ye(t,e){for(var n=-1,r=t.length;++n<r&&!1!==e(t[n],n,t););return t}function De(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ze(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[++i]=a)}return o}function Xe(t,e){for(var n=-1,r=t.length,i=xi(r);++n<r;)i[n]=e(t[n],n,t);return i}function $e(t){for(var e=-1,n=t.length,r=ho;++e<n;){var i=t[e];i>r&&(r=i)}return r}function Ve(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Ke(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Ze(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Je(t,e){return"undefined"==typeof t?e:t}function Qe(t,e,n,r){return"undefined"!=typeof t&&Bi.call(r,n)?t:e}function tn(t,e,n){var r=Lo(e);if(!n)return nn(e,t,r);for(var i=-1,o=r.length;++i<o;){var a=r[i],u=t[a],c=n(u,e[a],a,t,e);(c===c?c===u:u!==u)&&("undefined"!=typeof u||a in t)||(t[a]=c)}return t}function en(t,e){for(var n=-1,r=t.length,i=cr(r),o=e.length,a=xi(o);++n<o;){var u=e[n];i?(u=parseFloat(u),a[n]=ar(u,r)?t[u]:b):a[n]=t[u]}return a}function nn(t,e,n){n||(n=e,e={});for(var r=-1,i=n.length;++r<i;){var o=n[r];e[o]=t[o]}return e}function rn(t,e,n){var r=typeof t;if("function"==r){if(r="undefined"!=typeof e){var r=Me.support,i=!(r.funcNames?t.name:r.funcDecomp);if(!i){var o=Wi.call(t);r.funcNames||(i=!ye.test(o)),i||(i=Se.test(o)||ti(t),To(t,i))}r=i}t=r?Bn(t,e,n):t}else t=null==t?_i:"object"==r?jn(t):"undefined"==typeof e?En(t+""):An(t+"",e);return t}function on(t,e,n,r,i,o,a){var u;if(n&&(u=i?n(t,r,i):n(t)),"undefined"!=typeof u)return u;if(!Qr(t))return t;if(r=Mo(t)){if(u=rr(t),!e)return He(t,u)}else{var c=Li.call(t),s=c==z;if(c!=$&&c!=U&&(!s||i))return Re[c]?or(t,c,e):i?t:{};if(u=ir(s?{}:t),!e)return nn(t,u,Lo(t))}for(o||(o=[]),a||(a=[]),i=o.length;i--;)if(o[i]==t)return a[i];return o.push(t),a.push(u),(r?Ye:vn)(t,function(r,i){u[i]=on(r,e,n,i,t,o,a)}),u}function an(t,e,n,r){if("function"!=typeof t)throw new Ii(L);return Zi(function(){t.apply(b,On(n,r))},e)}function un(t,n){var r=t?t.length:0,i=[];if(!r)return i;var o=-1,a=nr(),u=a==e,c=u&&200<=n.length&&jo(n),s=n.length;c&&(a=Ue,u=!1,n=c);t:for(;++o<r;)if(c=t[o],u&&c===c){for(var l=s;l--;)if(n[l]===c)continue t;i.push(c)}else 0>a(n,c)&&i.push(c);return i}function cn(t,e){var n=t?t.length:0;if(!cr(n))return vn(t,e);for(var r=-1,i=dr(t);++r<n&&!1!==e(i[r],r,i););return t}function sn(t,e){var n=t?t.length:0;if(!cr(n))return _n(t,e);for(var r=dr(t);n--&&!1!==e(r[n],n,r););return t}function ln(t,e){var n=!0;return cn(t,function(t,r,i){return n=!!e(t,r,i)}),n}function fn(t,e){var n=[];return cn(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function hn(t,e,n,r){var i;return n(t,function(t,n,o){return e(t,n,o)?(i=r?n:t,!1):void 0}),i}function pn(t,e,n,r){r=(r||0)-1;for(var i=t.length,o=-1,a=[];++r<i;){var u=t[r];if(g(u)&&cr(u.length)&&(Mo(u)||Kr(u))){e&&(u=pn(u,e,n));var c=-1,s=u.length;for(a.length+=s;++c<s;)a[++o]=u[c]}else n||(a[++o]=u)}return a}function gn(t,e,n){var r=-1,i=dr(t);n=n(t);for(var o=n.length;++r<o;){var a=n[r];if(!1===e(i[a],a,i))break}return t}function dn(t,e,n){var r=dr(t);n=n(t);for(var i=n.length;i--;){var o=n[i];if(!1===e(r[o],o,r))break}return t}function mn(t,e){gn(t,e,ui)}function vn(t,e){return gn(t,e,Lo)}function _n(t,e){return dn(t,e,Lo)}function yn(t,e){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];No(t[a])&&(o[++i]=a)}return o}function wn(t,e,n){var r=-1,i="function"==typeof e,o=t?t.length:0,a=cr(o)?xi(o):[];return cn(t,function(t){var o=i?e:null!=t&&t[e];a[++r]=o?o.apply(t,n):b}),a}function bn(t,e,n,r,i,o){if(t===e)return 0!==t||1/t==1/e;var a=typeof t,u=typeof e;if("function"!=a&&"object"!=a&&"function"!=u&&"object"!=u||null==t||null==e)t=t!==t&&e!==e;else t:{var a=bn,u=Mo(t),c=Mo(e),s=q,l=q;u||(s=Li.call(t),s==U?s=$:s!=$&&(u=ii(t))),c||(l=Li.call(e),l==U?l=$:l!=$&&ii(e));var f=s==$,c=l==$,l=s==l;if(!l||u||f)if(s=f&&Bi.call(t,"__wrapped__"),c=c&&Bi.call(e,"__wrapped__"),s||c)t=a(s?t.value():t,c?e.value():e,n,r,i,o);else if(l){for(i||(i=[]),o||(o=[]),s=i.length;s--;)if(i[s]==t){t=o[s]==e;break t}i.push(t),o.push(e),t=(u?Zn:Qn)(t,e,a,n,r,i,o),i.pop(),o.pop()}else t=!1;else t=Jn(t,e,s)}return t}function xn(t,e,n,r,i){var o=e.length;if(null==t)return!o;for(var a=-1,u=!i;++a<o;)if(u&&r[a]?n[a]!==t[e[a]]:!Bi.call(t,e[a]))return!1;for(a=-1;++a<o;){var c=e[a];if(u&&r[a])c=Bi.call(t,c);else{var s=t[c],l=n[a],c=i?i(s,l,c):b;"undefined"==typeof c&&(c=bn(l,s,i,!0))}if(!c)return!1}return!0}function Tn(t,e){var n=[];return cn(t,function(t,r,i){n.push(e(t,r,i))}),n}function jn(t){var e=Lo(t),n=e.length;if(1==n){var r=e[0],i=t[r];if(sr(i))return function(t){return null!=t&&t[r]===i&&Bi.call(t,r)}}for(var o=xi(n),a=xi(n);n--;)i=t[e[n]],o[n]=i,a[n]=sr(i);return function(t){return xn(t,e,o,a)}}function An(t,e){return sr(e)?function(n){return null!=n&&n[t]===e}:function(n){return null!=n&&bn(e,n[t],null,!0)}}function Sn(t,e,n,r,i){if(!Qr(t))return t;var o=cr(e.length)&&(Mo(e)||ii(e));return(o?Ye:vn)(e,function(e,a,u){if(g(e)){r||(r=[]),i||(i=[]);t:{e=r;for(var c=i,s=e.length,l=u[a];s--;)if(e[s]==l){t[a]=c[s],a=void 0;break t}s=t[a],u=n?n(s,l,a,t,u):b;var f="undefined"==typeof u;f&&(u=l,cr(l.length)&&(Mo(l)||ii(l))?u=Mo(s)?s:s?He(s):[]:Bo(l)||Kr(l)?u=Kr(s)?oi(s):Bo(s)?s:{}:f=!1),e.push(l),c.push(u),f?t[a]=Sn(u,l,n,e,c):(u===u?u!==s:s===s)&&(t[a]=u),a=void 0}return a}c=t[a],u=n?n(c,e,a,t,u):b,(l="undefined"==typeof u)&&(u=e),!o&&"undefined"==typeof u||!l&&(u===u?u===c:c!==c)||(t[a]=u)}),t}function En(t){return function(e){return null==e?b:e[t]}}function kn(t,e){return t+zi(fo()*(e-t+1))}function Cn(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function On(t,e,n){var r=-1,i=t.length;for(e=null==e?0:+e||0,0>e&&(e=-e>i?0:i+e),n="undefined"==typeof n||n>i?i:+n||0,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0,n=xi(i);++r<i;)n[r]=t[r+e];return n}function In(t,e){var n;return cn(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function Rn(t,n){var r=-1,i=nr(),o=t.length,a=i==e,u=a&&o>=200,c=u&&jo(),s=[];c?(i=Ue,a=!1):(u=!1,c=n?[]:s);t:for(;++r<o;){var l=t[r],f=n?n(l,r,t):l;if(a&&l===l){for(var h=c.length;h--;)if(c[h]===f)continue t;n&&c.push(f),s.push(l)}else 0>i(c,f)&&((n||u)&&c.push(f),s.push(l))}return s}function Gn(t,e){for(var n=-1,r=e.length,i=xi(r);++n<r;)i[n]=t[e[n]];return i}function Mn(t,e){var n=t;n instanceof Be&&(n=n.value());for(var r=-1,i=e.length;++r<i;){var n=[n],o=e[r];$i.apply(n,o.args),n=o.func.apply(o.thisArg,n)}return n}function Wn(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&vo>=i){for(;i>r;){var o=r+i>>>1,a=t[o];(n?e>=a:e>a)?r=o+1:i=o}return i}return Nn(t,e,_i,n)}function Nn(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,a=e!==e,u="undefined"==typeof e;o>i;){var c=zi((i+o)/2),s=n(t[c]),l=s===s;(a?l||r:u?l&&(r||"undefined"!=typeof s):r?e>=s:e>s)?i=c+1:o=c}return uo(o,mo)}function Bn(t,e,n){if("function"!=typeof t)return _i;if("undefined"==typeof e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,a){return t.call(e,n,r,i,o,a)}}return function(){return t.apply(e,arguments)}}function Pn(t){return Hi.call(t,0)}function Ln(t,e,n){for(var r=n.length,i=-1,o=ao(t.length-r,0),a=-1,u=e.length,c=xi(o+u);++a<u;)c[a]=e[a];for(;++i<r;)c[n[i]]=t[i];for(;o--;)c[a++]=t[i++];return c}function Fn(t,e,n){for(var r=-1,i=n.length,o=-1,a=ao(t.length-i,0),u=-1,c=e.length,s=xi(a+c);++o<a;)s[o]=t[o];for(a=o;++u<c;)s[a+u]=e[u];for(;++r<i;)s[a+n[r]]=t[o++];return s}function Un(t,e){return function(n,r,i){var o=e?e():{};if(r=er(r,i,3),Mo(n)){i=-1;for(var a=n.length;++i<a;){var u=n[i];t(o,u,r(u,i,n),n)}}else cn(n,function(e,n,i){t(o,e,r(e,n,i),i)});return o}}function qn(t){return function(){var e=arguments.length,n=arguments[0];if(2>e||null==n)return n;if(e>3&&ur(arguments[1],arguments[2],arguments[3])&&(e=2),e>3&&"function"==typeof arguments[e-2])var r=Bn(arguments[--e-1],arguments[e--],5);else e>2&&"function"==typeof arguments[e-1]&&(r=arguments[--e]);for(var i=0;++i<e;){var o=arguments[i];o&&t(n,o,r)}return n}}function Hn(t,e){function n(){return(this instanceof n?r:t).apply(e,arguments)}var r=Dn(t);return n}function Yn(t){return function(e){var n=-1;e=gi(si(e));for(var r=e.length,i="";++n<r;)i=t(i,e[n],n);return i}}function Dn(t){return function(){var e=xo(t.prototype),n=t.apply(e,arguments);return Qr(n)?n:e}}function zn(t,e){return function(n,r,i){i&&ur(n,r,i)&&(r=null);var a=er(),u=null==r;if(a===rn&&u||(u=!1,r=a(r,i,3)),u){if(r=Mo(n),r||!ri(n))return t(r?n:gr(n));r=o}return tr(n,r,e)}}function Xn(t,e,n,r,i,o,a,u,c,s){function l(){for(var w=arguments.length,x=w,A=xi(w);x--;)A[x]=arguments[x];if(r&&(A=Ln(A,r,i)),o&&(A=Fn(A,o,a)),g||v){var x=l.placeholder,S=m(A,x),w=w-S.length;if(s>w){var E=u?He(u):null,w=ao(s-w,0),O=g?S:null,S=g?null:S,I=g?A:null,A=g?null:A;return e|=g?k:C,e&=~(g?C:k),d||(e&=~(T|j)),A=Xn(t,e,n,I,O,A,S,E,c,w),A.placeholder=x,A}}if(x=h?n:this,p&&(t=x[y]),u)for(E=A.length,w=uo(u.length,E),O=He(A);w--;)S=u[w],A[w]=ar(S,E)?O[S]:b;return f&&c<A.length&&(A.length=c),(this instanceof l?_||Dn(t):t).apply(x,A)}var f=e&I,h=e&T,p=e&j,g=e&S,d=e&A,v=e&E,_=!p&&Dn(t),y=t;return l}function $n(t,e,n){return t=t.length,e=+e,e>t&&io(e)?(e-=t,n=null==n?" ":n+"",hi(n,Yi(e/n.length)).slice(0,e)):""}function Vn(t,e,n,r){function i(){for(var e=-1,u=arguments.length,c=-1,s=r.length,l=xi(u+s);++c<s;)l[c]=r[c];for(;u--;)l[c++]=arguments[++e];return(this instanceof i?a:t).apply(o?n:this,l)}var o=e&T,a=Dn(t);return i}function Kn(t,e,n,r,i,o,a,u){var c=e&j;if(!c&&"function"!=typeof t)throw new Ii(L);var s=r?r.length:0;if(s||(e&=~(k|C),r=i=null),s-=i?i.length:0,e&C){var l=r,f=i;r=i=null}var h=!c&&Ao(t);if(n=[t,e,n,r,i,l,f,o,a,u],h&&!0!==h){r=n[1],e=h[1],u=r|e,o=I|O,i=T|j,a=o|i|A|E;var l=r&I&&!(e&I),f=r&O&&!(e&O),p=(f?n:h)[7],g=(l?n:h)[8];o=u>=o&&a>=u&&(O>r||(f||l)&&p.length<=g),(!(r>=O&&e>i||r>i&&e>=O)||o)&&(e&T&&(n[2]=h[2],u|=r&T?0:A),(r=h[3])&&(i=n[3],n[3]=i?Ln(i,r,h[4]):He(r),n[4]=i?m(n[3],F):He(h[4])),(r=h[5])&&(i=n[5],n[5]=i?Fn(i,r,h[6]):He(r),n[6]=i?m(n[5],F):He(h[6])),(r=h[7])&&(n[7]=He(r)),e&I&&(n[8]=null==n[8]?h[8]:uo(n[8],h[8])),null==n[9]&&(n[9]=h[9]),n[0]=h[0],n[1]=u),e=n[1],u=n[9]}return n[9]=null==u?c?0:t.length:ao(u-s,0)||0,(h?To:So)(e==T?Hn(n[0],n[2]):e!=k&&e!=(T|k)||n[4].length?Xn.apply(b,n):Vn.apply(b,n),n)}function Zn(t,e,n,r,i,o,a){var u=-1,c=t.length,s=e.length,l=!0;if(c!=s&&(!i||c>=s))return!1;for(;l&&++u<c;){var f=t[u],h=e[u],l=b;if(r&&(l=i?r(h,f,u):r(f,h,u)),"undefined"==typeof l)if(i)for(var p=s;p--&&(h=e[p],!(l=f&&f===h||n(f,h,r,i,o,a))););else l=f&&f===h||n(f,h,r,i,o,a)}return!!l}function Jn(t,e,n){switch(n){case H:case Y:return+t==+e;case D:return t.name==e.name&&t.message==e.message;case X:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case V:case K:return t==e+""}return!1}function Qn(t,e,n,r,i,o,a){var u=Lo(t),c=u.length,s=Lo(e).length;if(c!=s&&!i)return!1;for(var l,s=-1;++s<c;){var f=u[s],h=Bi.call(e,f);if(h){var p=t[f],g=e[f],h=b;r&&(h=i?r(g,p,f):r(p,g,f)),"undefined"==typeof h&&(h=p&&p===g||n(p,g,r,i,o,a))}if(!h)return!1;l||(l="constructor"==f)}return l||(n=t.constructor,r=e.constructor,!(n!=r&&"constructor"in t&&"constructor"in e)||"function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)?!0:!1}function tr(t,e,n){var r=n?po:ho,i=r,o=i;return cn(t,function(t,a,u){a=e(t,a,u),((n?i>a:a>i)||a===r&&a===o)&&(i=a,o=t)}),o}function er(t,e,n){var r=Me.callback||mi,r=r===mi?rn:r;return n?r(t,e,n):r}function nr(t,n,r){var i=Me.indexOf||br,i=i===br?e:i;return t?i(t,n,r):i}function rr(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Bi.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function ir(t){return t=t.constructor,"function"==typeof t&&t instanceof t||(t=ki),new t}function or(t,e,n){var r=t.constructor;switch(e){case Z:return Pn(t);case H:case Y:return new r(+t);case J:case Q:case te:case ee:case ne:case re:case ie:case oe:case ae:return e=t.buffer,new r(n?Pn(e):e,t.byteOffset,t.length);case X:case K:return new r(t);case V:var i=new r(t.source,_e.exec(t));i.lastIndex=t.lastIndex}return i}function ar(t,e){return t=+t,e=null==e?yo:e,t>-1&&0==t%1&&e>t}function ur(t,e,n){if(!Qr(n))return!1;var r=typeof e;return"number"==r?(r=n.length,r=cr(r)&&ar(e,r)):r="string"==r&&e in n,e=n[e],r&&(t===t?t===e:e!==e)}function cr(t){return"number"==typeof t&&t>-1&&0==t%1&&yo>=t}function sr(t){return t===t&&(0===t?1/t>0:!Qr(t))}function lr(t,e){t=dr(t);for(var n=-1,r=e.length,i={};++n<r;){var o=e[n];o in t&&(i[o]=t[o])}return i}function fr(t,e){var n={};return mn(t,function(t,r,i){e(t,r,i)&&(n[r]=t)}),n}function hr(t){var e;if(!g(t)||Li.call(t)!=$||!(Bi.call(t,"constructor")||(e=t.constructor,"function"!=typeof e||e instanceof e)))return!1;var n;return mn(t,function(t,e){n=e}),"undefined"==typeof n||Bi.call(t,n)}function pr(t){for(var e=ui(t),n=e.length,r=n&&t.length,i=Me.support,i=r&&cr(r)&&(Mo(t)||i.nonEnumArgs&&Kr(t)),o=-1,a=[];++o<n;){var u=e[o];(i&&ar(u,r)||Bi.call(t,u))&&a.push(u)}return a}function gr(t){return null==t?[]:cr(t.length)?Qr(t)?t:ki(t):ci(t)}function dr(t){return Qr(t)?t:ki(t)}function mr(t){return t instanceof Be?t.clone():new Ne(t.__wrapped__,t.__chain__,He(t.__actions__))}function vr(t,e,n){return t&&t.length?((n?ur(t,e,n):null==e)&&(e=1),On(t,0>e?0:e)):[]}function _r(t,e,n){var r=t?t.length:0;return r?((n?ur(t,e,n):null==e)&&(e=1),e=r-(+e||0),On(t,0,0>e?0:e)):[]}function yr(t,e,n){var r=-1,i=t?t.length:0;for(e=er(e,n,3);++r<i;)if(e(t[r],r,t))return r;return-1}function wr(t){return t?t[0]:b}function br(t,n,r){var i=t?t.length:0;if(!i)return-1;if("number"==typeof r)r=0>r?ao(i+r,0):r||0;else if(r)return r=Wn(t,n),t=t[r],(n===n?n===t:t!==t)?r:-1;return e(t,n,r)}function xr(t){return vr(t,1)}function Tr(t,n,r,i){if(!t||!t.length)return[];null!=n&&"boolean"!=typeof n&&(i=r,r=ur(t,n,i)?null:n,n=!1);var o=er();if((o!==rn||null!=r)&&(r=o(r,i,3)),n&&nr()==e){n=r;var a;r=-1,i=t.length;for(var o=-1,u=[];++r<i;){var c=t[r],s=n?n(c,r,t):c;r&&a===s||(a=s,u[++o]=c)}t=u}else t=Rn(t,r);return t}function jr(t){for(var e=-1,n=(t&&t.length&&$e(Xe(t,Ni)))>>>0,r=xi(n);++e<n;)r[e]=Xe(t,En(e));return r}function Ar(t,e){var n=-1,r=t?t.length:0,i={};for(!r||e||Mo(t[0])||(e=[]);++n<r;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}function Sr(t){return t=Me(t),t.__chain__=!0,t}function Er(t,e,n){return e.call(n,t)}function kr(t,e,n){var r=Mo(t)?De:ln;return("function"!=typeof e||"undefined"!=typeof n)&&(e=er(e,n,3)),r(t,e)}function Cr(t,e,n){var r=Mo(t)?ze:fn;return e=er(e,n,3),r(t,e)}function Or(t,e,n){return Mo(t)?(e=yr(t,e,n),e>-1?t[e]:b):(e=er(e,n,3),hn(t,e,cn))}function Ir(t,e,n){return"function"==typeof e&&"undefined"==typeof n&&Mo(t)?Ye(t,e):cn(t,Bn(e,n,3))}function Rr(t,e,n){if("function"==typeof e&&"undefined"==typeof n&&Mo(t))for(n=t.length;n--&&!1!==e(t[n],n,t););else t=sn(t,Bn(e,n,3));return t}function Gr(t,e,n){var r=t?t.length:0;return cr(r)||(t=ci(t),r=t.length),r?(n="number"==typeof n?0>n?ao(r+n,0):n||0:0,"string"==typeof t||!Mo(t)&&ri(t)?r>n&&-1<t.indexOf(e,n):-1<nr(t,e,n)):!1}function Mr(t,e,n){var r=Mo(t)?Xe:Tn;return e=er(e,n,3),r(t,e)}function Wr(t,e,n,r){return(Mo(t)?Ve:Cn)(t,er(e,r,4),n,3>arguments.length,cn)}function Nr(t,e,n,r){return(Mo(t)?Ke:Cn)(t,er(e,r,4),n,3>arguments.length,sn)}function Br(t,e,n){return(n?ur(t,e,n):null==e)?(t=gr(t),e=t.length,e>0?t[kn(0,e-1)]:b):(t=Pr(t),t.length=uo(0>e?0:+e||0,t.length),t)}function Pr(t){t=gr(t);for(var e=-1,n=t.length,r=xi(n);++e<n;){var i=kn(0,e);e!=i&&(r[e]=r[i]),r[i]=t[e]}return r}function Lr(t,e,n){var r=Mo(t)?Ze:In;return("function"!=typeof e||"undefined"!=typeof n)&&(e=er(e,n,3)),r(t,e)}function Fr(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Ii(L);var r=t;t=e,e=r}return function(){return 0<--t?n=e.apply(this,arguments):e=null,n}}function Ur(t,e){var n=T;if(2<arguments.length)var r=On(arguments,2),i=m(r,Ur.placeholder),n=n|k;return Kn(t,n,e,r,i)}function qr(t,e){var n=T|j;if(2<arguments.length)var r=On(arguments,2),i=m(r,qr.placeholder),n=n|k;return Kn(e,n,t,r,i)}function Hr(t,e,n){return n&&ur(t,e,n)&&(e=null),t=Kn(t,S,null,null,null,null,null,e),t.placeholder=Hr.placeholder,t}function Yr(t,e,n){return n&&ur(t,e,n)&&(e=null),t=Kn(t,E,null,null,null,null,null,e),t.placeholder=Yr.placeholder,t}function Dr(t,e,n){function r(){var n=e-(Go()-s);0>=n||n>e?(u&&Di(u),n=h,u=f=h=b,n&&(p=Go(),c=t.apply(l,a),f||u||(a=l=null))):f=Zi(r,n)}function i(){f&&Di(f),u=f=h=b,(d||g!==e)&&(p=Go(),c=t.apply(l,a),f||u||(a=l=null))}function o(){if(a=arguments,s=Go(),l=this,h=d&&(f||!m),!1===g)var n=m&&!f;else{u||m||(p=s);var o=g-(s-p),v=0>=o||o>g;v?(u&&(u=Di(u)),p=s,c=t.apply(l,a)):u||(u=Zi(i,o))}return v&&f?f=Di(f):f||e===g||(f=Zi(r,e)),n&&(v=!0,c=t.apply(l,a)),!v||f||u||(a=l=null),c}var a,u,c,s,l,f,h,p=0,g=!1,d=!0;if("function"!=typeof t)throw new Ii(L);if(e=0>e?0:e,!0===n)var m=!0,d=!1;else Qr(n)&&(m=n.leading,g="maxWait"in n&&ao(+n.maxWait||0,e),d="trailing"in n?n.trailing:d);return o.cancel=function(){f&&Di(f),u&&Di(u),u=f=h=b},o}function zr(){var t=arguments,e=t.length-1;if(0>e)return function(t){return t};if(!De(t,n))throw new Ii(L);return function(){for(var n=e,r=t[n].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function Xr(t,e){function n(){var r=n.cache,i=e?e.apply(this,arguments):arguments[0];if(r.has(i))return r.get(i);var o=t.apply(this,arguments);return r.set(i,o),o}if("function"!=typeof t||e&&"function"!=typeof e)throw new Ii(L);return n.cache=new Xr.Cache,n}function $r(t){var e=On(arguments,1),n=m(e,$r.placeholder);return Kn(t,k,null,e,n)}function Vr(t){var e=On(arguments,1),n=m(e,Vr.placeholder);return Kn(t,C,null,e,n)}function Kr(t){return cr(g(t)?t.length:b)&&Li.call(t)==U||!1}function Zr(t){return t&&1===t.nodeType&&g(t)&&-1<Li.call(t).indexOf("Element")||!1}function Jr(t){return g(t)&&"string"==typeof t.message&&Li.call(t)==D||!1}function Qr(t){var e=typeof t;return"function"==e||t&&"object"==e||!1}function ti(t){return null==t?!1:Li.call(t)==z?Ui.test(Wi.call(t)):g(t)&&be.test(t)||!1}function ei(t){return"number"==typeof t||g(t)&&Li.call(t)==X||!1}function ni(t){return g(t)&&Li.call(t)==V||!1}function ri(t){return"string"==typeof t||g(t)&&Li.call(t)==K||!1}function ii(t){return g(t)&&cr(t.length)&&Ie[Li.call(t)]||!1}function oi(t){return nn(t,ui(t))}function ai(t){return yn(t,ui(t))}function ui(t){if(null==t)return[];Qr(t)||(t=ki(t));for(var e=t.length,e=e&&cr(e)&&(Mo(t)||bo.nonEnumArgs&&Kr(t))&&e||0,n=t.constructor,r=-1,n="function"==typeof n&&n.prototype===t,i=xi(e),o=e>0;++r<e;)i[r]=r+"";for(var a in t)o&&ar(a,e)||"constructor"==a&&(n||!Bi.call(t,a))||i.push(a);return i}function ci(t){return Gn(t,Lo(t))}function si(t){return(t=i(t))&&t.replace(xe,l)}function li(t){return(t=i(t))&&Ae.test(t)?t.replace(je,"\\$&"):t}function fi(t,e,n){return n&&ur(t,e,n)&&(e=0),lo(t,e)}function hi(t,e){var n="";if(t=i(t),e=+e,1>e||!t||!io(e))return n;do e%2&&(n+=t),e=zi(e/2),t+=t;while(e);return n}function pi(t,e,n){var r=t;return(t=i(t))?(n?ur(r,e,n):null==e)?t.slice(v(t),_(t)+1):(e+="",t.slice(a(t,e),u(t,e)+1)):t}function gi(t,e,n){return n&&ur(t,e,n)&&(e=null),t=i(t),t.match(e||ke)||[]}function di(){var t=arguments.length,e=arguments[0];try{for(var n=xi(t?t-1:0);0<--t;)n[t-1]=arguments[t];return e.apply(b,n)}catch(r){return Jr(r)?r:new ji(r)}}function mi(t,e,n){return n&&ur(t,e,n)&&(e=null),g(t)?yi(t):rn(t,e)}function vi(t){return function(){return t}}function _i(t){return t}function yi(t){return jn(on(t,!0))}function wi(t,e,n){if(null==n){var r=Qr(e),i=r&&Lo(e);((i=i&&i.length&&yn(e,i))?i.length:r)||(i=!1,n=e,e=t,t=this)}i||(i=yn(e,Lo(e)));var o=!0,r=-1,a=No(t),u=i.length;!1===n?o=!1:Qr(n)&&"chain"in n&&(o=n.chain);for(;++r<u;){n=i[r];var c=e[n];t[n]=c,a&&(t.prototype[n]=function(e){return function(){var n=this.__chain__;if(o||n){var r=t(this.__wrapped__);return(r.__actions__=He(this.__actions__)).push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return n=[this.value()],$i.apply(n,arguments),e.apply(t,n)}}(c))}return t}function bi(){}d=d?qe.defaults(Le.Object(),d,qe.pick(Le,Oe)):Le;var xi=d.Array,Ti=d.Date,ji=d.Error,Ai=d.Function,Si=d.Math,Ei=d.Number,ki=d.Object,Ci=d.RegExp,Oi=d.String,Ii=d.TypeError,Ri=xi.prototype,Gi=ki.prototype,Mi=(Mi=d.window)&&Mi.document,Wi=Ai.prototype.toString,Ni=En("length"),Bi=Gi.hasOwnProperty,Pi=0,Li=Gi.toString,Fi=d._,Ui=Ci("^"+li(Li).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qi=ti(qi=d.ArrayBuffer)&&qi,Hi=ti(Hi=qi&&new qi(0).slice)&&Hi,Yi=Si.ceil,Di=d.clearTimeout,zi=Si.floor,Xi=ti(Xi=ki.getPrototypeOf)&&Xi,$i=Ri.push,Vi=Gi.propertyIsEnumerable,Ki=ti(Ki=d.Set)&&Ki,Zi=d.setTimeout,Ji=Ri.splice,Qi=ti(Qi=d.Uint8Array)&&Qi,to=ti(to=d.WeakMap)&&to,eo=function(){try{var t=ti(t=d.Float64Array)&&t,e=new t(new qi(10),0,1)&&t}catch(n){}return e}(),no=ti(no=xi.isArray)&&no,ro=ti(ro=ki.create)&&ro,io=d.isFinite,oo=ti(oo=ki.keys)&&oo,ao=Si.max,uo=Si.min,co=ti(co=Ti.now)&&co,so=ti(so=Ei.isFinite)&&so,lo=d.parseInt,fo=Si.random,ho=Ei.NEGATIVE_INFINITY,po=Ei.POSITIVE_INFINITY,go=Si.pow(2,32)-1,mo=go-1,vo=go>>>1,_o=eo?eo.BYTES_PER_ELEMENT:0,yo=Si.pow(2,53)-1,wo=to&&new to,bo=Me.support={};!function(){bo.funcDecomp=!ti(d.WinRTError)&&Se.test(w),bo.funcNames="string"==typeof Ai.name;try{bo.dom=11===Mi.createDocumentFragment().nodeType}catch(t){bo.dom=!1}try{bo.nonEnumArgs=!Vi.call(arguments,1)}catch(e){bo.nonEnumArgs=!0}}(0,0),Me.templateSettings={escape:ge,evaluate:de,interpolate:me,variable:"",imports:{_:Me}};var xo=function(){function t(){}return function(e){if(Qr(e)){t.prototype=e;var n=new t;t.prototype=null}return n||d.Object()}}(),To=wo?function(t,e){return wo.set(t,e),t}:_i;Hi||(Pn=qi&&Qi?function(t){var e=t.byteLength,n=eo?zi(e/_o):0,r=n*_o,i=new qi(e);if(n){var o=new eo(i,0,n);o.set(new eo(t,0,n))}return e!=r&&(o=new Qi(i,r),o.set(new Qi(t,r))),i}:vi(null));var jo=ro&&Ki?function(t){return new Fe(t)}:vi(null),Ao=wo?function(t){return wo.get(t)}:bi,So=function(){var t=0,e=0;return function(n,r){var i=Go(),o=W-(i-e);
if(e=i,o>0){if(++t>=M)return n}else t=0;return To(n,r)}}(),Eo=Un(function(t,e,n){Bi.call(t,n)?++t[n]:t[n]=1}),ko=Un(function(t,e,n){Bi.call(t,n)?t[n].push(e):t[n]=[e]}),Co=Un(function(t,e,n){t[n]=e}),Oo=zn($e),Io=zn(function(t){for(var e=-1,n=t.length,r=po;++e<n;){var i=t[e];r>i&&(r=i)}return r},!0),Ro=Un(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Go=co||function(){return(new Ti).getTime()},Mo=no||function(t){return g(t)&&cr(t.length)&&Li.call(t)==q||!1};bo.dom||(Zr=function(t){return t&&1===t.nodeType&&g(t)&&!Bo(t)||!1});var Wo=so||function(t){return"number"==typeof t&&io(t)},No=n(/x/)||Qi&&!n(Qi)?function(t){return Li.call(t)==z}:n,Bo=Xi?function(t){if(!t||Li.call(t)!=$)return!1;var e=t.valueOf,n=ti(e)&&(n=Xi(e))&&Xi(n);return n?t==n||Xi(t)==n:hr(t)}:hr,Po=qn(tn),Lo=oo?function(t){if(t)var e=t.constructor,n=t.length;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&n&&cr(n)?pr(t):Qr(t)?oo(t):[]}:pr,Fo=qn(Sn),Uo=Yn(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),qo=Yn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()});8!=lo(Ce+"08")&&(fi=function(t,e,n){return(n?ur(t,e,n):null==e)?e=0:e&&(e=+e),t=pi(t),lo(t,e||(we.test(t)?16:10))});var Ho=Yn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Yo=Yn(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))});return Me.prototype=We.prototype,Ne.prototype=xo(We.prototype),Ne.prototype.constructor=Ne,Be.prototype=xo(We.prototype),Be.prototype.constructor=Be,Pe.prototype["delete"]=function(t){return this.has(t)&&delete this.__data__[t]},Pe.prototype.get=function(t){return"__proto__"==t?b:this.__data__[t]},Pe.prototype.has=function(t){return"__proto__"!=t&&Bi.call(this.__data__,t)},Pe.prototype.set=function(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this},Fe.prototype.push=function(t){var e=this.data;"string"==typeof t||Qr(t)?e.set.add(t):e.hash[t]=!0},Xr.Cache=Pe,Me.after=function(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Ii(L);var n=t;t=e,e=n}return t=io(t=+t)?t:0,function(){return 1>--t?e.apply(this,arguments):void 0}},Me.ary=function(t,e,n){return n&&ur(t,e,n)&&(e=null),e=t&&null==e?t.length:ao(+e||0,0),Kn(t,I,null,null,null,null,e)},Me.assign=Po,Me.at=function(t){return cr(t?t.length:0)&&(t=gr(t)),en(t,pn(arguments,!1,!1,1))},Me.before=Fr,Me.bind=Ur,Me.bindAll=function(t){for(var e=t,n=1<arguments.length?pn(arguments,!1,!1,1):ai(t),r=-1,i=n.length;++r<i;){var o=n[r];e[o]=Kn(e[o],T,e)}return e},Me.bindKey=qr,Me.callback=mi,Me.chain=Sr,Me.chunk=function(t,e,n){e=(n?ur(t,e,n):null==e)?1:ao(+e||1,1),n=0;for(var r=t?t.length:0,i=-1,o=xi(Yi(r/e));r>n;)o[++i]=On(t,n,n+=e);return o},Me.compact=function(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var o=t[e];o&&(i[++r]=o)}return i},Me.constant=vi,Me.countBy=Eo,Me.create=function(t,e,n){var r=xo(t);return n&&ur(t,e,n)&&(e=null),e?nn(e,r,Lo(e)):r},Me.curry=Hr,Me.curryRight=Yr,Me.debounce=Dr,Me.defaults=function(t){if(null==t)return t;var e=He(arguments);return e.push(Je),Po.apply(b,e)},Me.defer=function(t){return an(t,1,arguments,1)},Me.delay=function(t,e){return an(t,e,arguments,2)},Me.difference=function(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Mo(n)||Kr(n))break}return un(n,pn(arguments,!1,!0,++t))},Me.drop=vr,Me.dropRight=_r,Me.dropRightWhile=function(t,e,n){var r=t?t.length:0;if(!r)return[];for(e=er(e,n,3);r--&&e(t[r],r,t););return On(t,0,r+1)},Me.dropWhile=function(t,e,n){var r=t?t.length:0;if(!r)return[];var i=-1;for(e=er(e,n,3);++i<r&&e(t[i],i,t););return On(t,i)},Me.fill=function(t,e,n,r){var i=t?t.length:0;if(!i)return[];for(n&&"number"!=typeof n&&ur(t,e,n)&&(n=0,r=i),i=t.length,n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r="undefined"==typeof r||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)t[n++]=e;return t},Me.filter=Cr,Me.flatten=function(t,e,n){var r=t?t.length:0;return n&&ur(t,e,n)&&(e=!1),r?pn(t,e):[]},Me.flattenDeep=function(t){return t&&t.length?pn(t,!0):[]},Me.flow=function(){var t=arguments,e=t.length;if(!e)return function(t){return t};if(!De(t,n))throw new Ii(L);return function(){for(var n=0,r=t[n].apply(this,arguments);++n<e;)r=t[n].call(this,r);return r}},Me.flowRight=zr,Me.forEach=Ir,Me.forEachRight=Rr,Me.forIn=function(t,e,n){return("function"!=typeof e||"undefined"!=typeof n)&&(e=Bn(e,n,3)),gn(t,e,ui)},Me.forInRight=function(t,e,n){return e=Bn(e,n,3),dn(t,e,ui)},Me.forOwn=function(t,e,n){return("function"!=typeof e||"undefined"!=typeof n)&&(e=Bn(e,n,3)),vn(t,e)},Me.forOwnRight=function(t,e,n){return e=Bn(e,n,3),dn(t,e,Lo)},Me.functions=ai,Me.groupBy=ko,Me.indexBy=Co,Me.initial=function(t){return _r(t,1)},Me.intersection=function(){for(var t=[],n=-1,r=arguments.length,i=[],o=nr(),a=o==e;++n<r;){var u=arguments[n];(Mo(u)||Kr(u))&&(t.push(u),i.push(a&&120<=u.length&&jo(n&&u)))}var r=t.length,a=t[0],c=-1,s=a?a.length:0,l=[],f=i[0];t:for(;++c<s;)if(u=a[c],0>(f?Ue(f,u):o(l,u))){for(n=r;--n;){var h=i[n];if(0>(h?Ue(h,u):o(t[n],u)))continue t}f&&f.push(u),l.push(u)}return l},Me.invert=function(t,e,n){n&&ur(t,e,n)&&(e=null),n=-1;for(var r=Lo(t),i=r.length,o={};++n<i;){var a=r[n],u=t[a];e?Bi.call(o,u)?o[u].push(a):o[u]=[a]:o[u]=a}return o},Me.invoke=function(t,e){return wn(t,e,On(arguments,2))},Me.keys=Lo,Me.keysIn=ui,Me.map=Mr,Me.mapValues=function(t,e,n){var r={};return e=er(e,n,3),vn(t,function(t,n,i){r[n]=e(t,n,i)}),r},Me.matches=yi,Me.matchesProperty=function(t,e){return An(t+"",on(e,!0))},Me.memoize=Xr,Me.merge=Fo,Me.mixin=wi,Me.negate=function(t){if("function"!=typeof t)throw new Ii(L);return function(){return!t.apply(this,arguments)}},Me.omit=function(t,e,n){if(null==t)return{};if("function"!=typeof e){var r=Xe(pn(arguments,!1,!1,1),Oi);return lr(t,un(ui(t),r))}return e=Bn(e,n,3),fr(t,function(t,n,r){return!e(t,n,r)})},Me.once=function(t){return Fr(t,2)},Me.pairs=function(t){for(var e=-1,n=Lo(t),r=n.length,i=xi(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i},Me.partial=$r,Me.partialRight=Vr,Me.partition=Ro,Me.pick=function(t,e,n){return null==t?{}:"function"==typeof e?fr(t,Bn(e,n,3)):lr(t,pn(arguments,!1,!1,1))},Me.pluck=function(t,e){return Mr(t,En(e))},Me.property=function(t){return En(t+"")},Me.propertyOf=function(t){return function(e){return null==t?b:t[e]}},Me.pull=function(){var t=arguments[0];if(!t||!t.length)return t;for(var e=0,n=nr(),r=arguments.length;++e<r;)for(var i=0,o=arguments[e];-1<(i=n(t,o,i));)Ji.call(t,i,1);return t},Me.pullAt=function(e){var n=e||[],r=pn(arguments,!1,!1,1),i=r.length,o=en(n,r);for(r.sort(t);i--;){var a=parseFloat(r[i]);if(a!=u&&ar(a)){var u=a;Ji.call(n,a,1)}}return o},Me.range=function(t,e,n){n&&ur(t,e,n)&&(e=n=null),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;var r=-1;e=ao(Yi((e-t)/(n||1)),0);for(var i=xi(e);++r<e;)i[r]=t,t+=n;return i},Me.rearg=function(t){var e=pn(arguments,!1,!1,1);return Kn(t,O,null,null,null,e)},Me.reject=function(t,e,n){var r=Mo(t)?ze:fn;return e=er(e,n,3),r(t,function(t,n,r){return!e(t,n,r)})},Me.remove=function(t,e,n){var r=-1,i=t?t.length:0,o=[];for(e=er(e,n,3);++r<i;)n=t[r],e(n,r,t)&&(o.push(n),Ji.call(t,r--,1),i--);return o},Me.rest=xr,Me.shuffle=Pr,Me.slice=function(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&ur(t,e,n)&&(e=0,n=r),On(t,e,n)):[]},Me.sortBy=function(t,e,n){var i=-1,o=t?t.length:0,a=cr(o)?xi(o):[];return n&&ur(t,e,n)&&(e=null),e=er(e,n,3),cn(t,function(t,n,r){a[++i]={a:e(t,n,r),b:i,c:t}}),r(a,c)},Me.sortByAll=function(t){var e=arguments;3<e.length&&ur(e[1],e[2],e[3])&&(e=[t,e[1]]);var n=-1,i=t?t.length:0,o=pn(e,!1,!1,1),a=cr(i)?xi(i):[];return cn(t,function(t){for(var e=o.length,r=xi(e);e--;)r[e]=null==t?b:t[o[e]];a[++n]={a:r,b:n,c:t}}),r(a,s)},Me.spread=function(t){if("function"!=typeof t)throw new Ii(L);return function(e){return t.apply(this,e)}},Me.take=function(t,e,n){return t&&t.length?((n?ur(t,e,n):null==e)&&(e=1),On(t,0,0>e?0:e)):[]},Me.takeRight=function(t,e,n){var r=t?t.length:0;return r?((n?ur(t,e,n):null==e)&&(e=1),e=r-(+e||0),On(t,0>e?0:e)):[]},Me.takeRightWhile=function(t,e,n){var r=t?t.length:0;if(!r)return[];for(e=er(e,n,3);r--&&e(t[r],r,t););return On(t,r+1)},Me.takeWhile=function(t,e,n){var r=t?t.length:0;if(!r)return[];var i=-1;for(e=er(e,n,3);++i<r&&e(t[i],i,t););return On(t,0,i)},Me.tap=function(t,e,n){return e.call(n,t),t},Me.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Ii(L);return!1===n?r=!1:Qr(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ge.leading=r,Ge.maxWait=+e,Ge.trailing=i,Dr(t,e,Ge)},Me.thru=Er,Me.times=function(t,e,n){if(t=+t,1>t||!io(t))return[];var r=-1,i=xi(uo(t,go));for(e=Bn(e,n,1);++r<t;)go>r?i[r]=e(r):e(r);return i},Me.toArray=function(t){var e=t?t.length:0;return cr(e)?e?He(t):[]:ci(t)},Me.toPlainObject=oi,Me.transform=function(t,e,n,r){var i=Mo(t)||ii(t);return e=er(e,r,4),null==n&&(i||Qr(t)?(r=t.constructor,n=i?Mo(t)?new r:[]:xo(No(r)&&r.prototype)):n={}),(i?Ye:vn)(t,function(t,r,i){return e(n,t,r,i)}),n},Me.union=function(){return Rn(pn(arguments,!1,!0))},Me.uniq=Tr,Me.unzip=jr,Me.values=ci,Me.valuesIn=function(t){return Gn(t,ui(t))},Me.where=function(t,e){return Cr(t,jn(e))},Me.without=function(t){return un(t,On(arguments,1))},Me.wrap=function(t,e){return e=null==e?_i:e,Kn(e,k,null,[t],[])},Me.xor=function(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Mo(n)||Kr(n))var r=r?un(r,n).concat(un(n,r)):n}return r?Rn(r):[]},Me.zip=function(){for(var t=arguments.length,e=xi(t);t--;)e[t]=arguments[t];return jr(e)},Me.zipObject=Ar,Me.backflow=zr,Me.collect=Mr,Me.compose=zr,Me.each=Ir,Me.eachRight=Rr,Me.extend=Po,Me.iteratee=mi,Me.methods=ai,Me.object=Ar,Me.select=Cr,Me.tail=xr,Me.unique=Tr,wi(Me,Me),Me.attempt=di,Me.camelCase=Uo,Me.capitalize=function(t){return(t=i(t))&&t.charAt(0).toUpperCase()+t.slice(1)},Me.clone=function(t,e,n,r){return e&&"boolean"!=typeof e&&ur(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),n="function"==typeof n&&Bn(n,r,1),on(t,e,n)},Me.cloneDeep=function(t,e,n){return e="function"==typeof e&&Bn(e,n,1),on(t,!0,e)},Me.deburr=si,Me.endsWith=function(t,e,n){t=i(t),e+="";var r=t.length;return n=("undefined"==typeof n?r:uo(0>n?0:+n||0,r))-e.length,n>=0&&t.indexOf(e,n)==n},Me.escape=function(t){return(t=i(t))&&pe.test(t)?t.replace(fe,f):t},Me.escapeRegExp=li,Me.every=kr,Me.find=Or,Me.findIndex=yr,Me.findKey=function(t,e,n){return e=er(e,n,3),hn(t,e,vn,!0)},Me.findLast=function(t,e,n){return e=er(e,n,3),hn(t,e,sn)},Me.findLastIndex=function(t,e,n){var r=t?t.length:0;for(e=er(e,n,3);r--;)if(e(t[r],r,t))return r;return-1},Me.findLastKey=function(t,e,n){return e=er(e,n,3),hn(t,e,_n,!0)},Me.findWhere=function(t,e){return Or(t,jn(e))},Me.first=wr,Me.has=function(t,e){return t?Bi.call(t,e):!1},Me.identity=_i,Me.includes=Gr,Me.indexOf=br,Me.inRange=function(t,e,n){return e=+e||0,"undefined"==typeof n?(n=e,e=0):n=+n||0,t>=e&&n>t},Me.isArguments=Kr,Me.isArray=Mo,Me.isBoolean=function(t){return!0===t||!1===t||g(t)&&Li.call(t)==H||!1},Me.isDate=function(t){return g(t)&&Li.call(t)==Y||!1},Me.isElement=Zr,Me.isEmpty=function(t){if(null==t)return!0;var e=t.length;return cr(e)&&(Mo(t)||ri(t)||Kr(t)||g(t)&&No(t.splice))?!e:!Lo(t).length},Me.isEqual=function(t,e,n,r){return n="function"==typeof n&&Bn(n,r,3),!n&&sr(t)&&sr(e)?t===e:(r=n?n(t,e):b,"undefined"==typeof r?bn(t,e,n):!!r)},Me.isError=Jr,Me.isFinite=Wo,Me.isFunction=No,Me.isMatch=function(t,e,n,r){var i=Lo(e),o=i.length;if(n="function"==typeof n&&Bn(n,r,3),!n&&1==o){var a=i[0];if(r=e[a],sr(r))return null!=t&&r===t[a]&&Bi.call(t,a)}for(var a=xi(o),u=xi(o);o--;)r=a[o]=e[i[o]],u[o]=sr(r);return xn(t,i,a,u,n)},Me.isNaN=function(t){return ei(t)&&t!=+t},Me.isNative=ti,Me.isNull=function(t){return null===t},Me.isNumber=ei,Me.isObject=Qr,Me.isPlainObject=Bo,Me.isRegExp=ni,Me.isString=ri,Me.isTypedArray=ii,Me.isUndefined=function(t){return"undefined"==typeof t},Me.kebabCase=qo,Me.last=function(t){var e=t?t.length:0;return e?t[e-1]:b},Me.lastIndexOf=function(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?ao(r+n,0):uo(n||0,r-1))+1;else if(n)return i=Wn(t,e,!0)-1,t=t[i],(e===e?e===t:t!==t)?i:-1;if(e!==e)return p(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1},Me.max=Oo,Me.min=Io,Me.noConflict=function(){return d._=Fi,this},Me.noop=bi,Me.now=Go,Me.pad=function(t,e,n){t=i(t),e=+e;var r=t.length;return e>r&&io(e)?(r=(e-r)/2,e=zi(r),r=Yi(r),n=$n("",r,n),n.slice(0,e)+t+n):t},Me.padLeft=function(t,e,n){return(t=i(t))&&$n(t,e,n)+t},Me.padRight=function(t,e,n){return(t=i(t))&&t+$n(t,e,n)},Me.parseInt=fi,Me.random=function(t,e,n){n&&ur(t,e,n)&&(e=n=null);var r=null==t,i=null==e;return null==n&&(i&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,i=!0)),r&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1?(n=fo(),uo(t+n*(e-t+parseFloat("1e-"+((n+"").length-1))),e)):kn(t,e)},Me.reduce=Wr,Me.reduceRight=Nr,Me.repeat=hi,Me.result=function(t,e,n){return e=null==t?b:t[e],"undefined"==typeof e&&(e=n),No(e)?e.call(t):e},Me.runInContext=w,Me.size=function(t){var e=t?t.length:0;return cr(e)?e:Lo(t).length},Me.snakeCase=Ho,Me.some=Lr,Me.sortedIndex=function(t,e,n,r){var i=er(n);return i===rn&&null==n?Wn(t,e):Nn(t,e,i(n,r,1))},Me.sortedLastIndex=function(t,e,n,r){var i=er(n);return i===rn&&null==n?Wn(t,e,!0):Nn(t,e,i(n,r,1),!0)},Me.startCase=Yo,Me.startsWith=function(t,e,n){return t=i(t),n=null==n?0:uo(0>n?0:+n||0,t.length),t.lastIndexOf(e,n)==n},Me.template=function(t,e,n){var r=Me.templateSettings;n&&ur(t,e,n)&&(e=n=null),t=i(t),e=tn(tn({},n||e),r,Qe),n=tn(tn({},e.imports),r.imports,Qe);var o,a,u=Lo(n),c=Gn(n,u),s=0;n=e.interpolate||Te;var l="__p+='";n=Ci((e.escape||Te).source+"|"+n.source+"|"+(n===me?ve:Te).source+"|"+(e.evaluate||Te).source+"|$","g");var f="sourceURL"in e?"//# sourceURL="+e.sourceURL+"\n":"";if(t.replace(n,function(e,n,r,i,u,c){return r||(r=i),l+=t.slice(s,c).replace(Ee,h),n&&(o=!0,l+="'+__e("+n+")+'"),u&&(a=!0,l+="';"+u+";\n__p+='"),r&&(l+="'+((__t=("+r+"))==null?'':__t)+'"),s=c+e.length,e}),l+="';",(e=e.variable)||(l="with(obj){"+l+"}"),l=(a?l.replace(ue,""):l).replace(ce,"$1").replace(se,"$1;"),l="function("+(e||"obj")+"){"+(e?"":"obj||(obj={});")+"var __t,__p=''"+(o?",__e=_.escape":"")+(a?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+l+"return __p}",e=di(function(){return Ai(u,f+"return "+l).apply(b,c)}),e.source=l,Jr(e))throw e;return e},Me.trim=pi,Me.trimLeft=function(t,e,n){var r=t;return(t=i(t))?t.slice((n?ur(r,e,n):null==e)?v(t):a(t,e+"")):t},Me.trimRight=function(t,e,n){var r=t;return(t=i(t))?(n?ur(r,e,n):null==e)?t.slice(0,_(t)+1):t.slice(0,u(t,e+"")+1):t},Me.trunc=function(t,e,n){n&&ur(t,e,n)&&(e=null);var r=R;if(n=G,null!=e)if(Qr(e)){var o="separator"in e?e.separator:o,r="length"in e?+e.length||0:r;n="omission"in e?i(e.omission):n}else r=+e||0;if(t=i(t),r>=t.length)return t;if(r-=n.length,1>r)return n;if(e=t.slice(0,r),null==o)return e+n;if(ni(o)){if(t.slice(r).search(o)){var a,u=t.slice(0,r);for(o.global||(o=Ci(o.source,(_e.exec(o)||"")+"g")),o.lastIndex=0;t=o.exec(u);)a=t.index;e=e.slice(0,null==a?r:a)}}else t.indexOf(o,r)!=r&&(o=e.lastIndexOf(o),o>-1&&(e=e.slice(0,o)));return e+n},Me.unescape=function(t){return(t=i(t))&&he.test(t)?t.replace(le,y):t},Me.uniqueId=function(t){var e=++Pi;return i(t)+e},Me.words=gi,Me.all=kr,Me.any=Lr,Me.contains=Gr,Me.detect=Or,Me.foldl=Wr,Me.foldr=Nr,Me.head=wr,Me.include=Gr,Me.inject=Wr,wi(Me,function(){var t={};return vn(Me,function(e,n){Me.prototype[n]||(t[n]=e)}),t}(),!1),Me.sample=Br,Me.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return Br(e,t)}):Br(this.value())},Me.VERSION=x,Ye("bind bindKey curry curryRight partial partialRight".split(" "),function(t){Me[t].placeholder=Me}),Ye(["filter","map","takeWhile"],function(t,e){var n=e==N,r=e==P;Be.prototype[t]=function(t,i){var o=this.clone(),a=o.__filtered__,u=o.__iteratees__||(o.__iteratees__=[]);return o.__filtered__=a||n||r&&0>o.__dir__,u.push({iteratee:er(t,i,3),type:e}),o}}),Ye(["drop","take"],function(t,e){var n="__"+t+"Count__",r=t+"While";Be.prototype[t]=function(r){r=null==r?1:ao(zi(r)||0,0);var i=this.clone();if(i.__filtered__){var o=i[n];i[n]=e?uo(o,r):o+r}else(i.__views__||(i.__views__=[])).push({size:r,type:t+(0>i.__dir__?"Right":"")});return i},Be.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()},Be.prototype[t+"RightWhile"]=function(t,e){return this.reverse()[r](t,e).reverse()}}),Ye(["first","last"],function(t,e){var n="take"+(e?"Right":"");Be.prototype[t]=function(){return this[n](1).value()[0]}}),Ye(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");Be.prototype[t]=function(){return this[n](1)}}),Ye(["pluck","where"],function(t,e){var n=e?"filter":"map",r=e?jn:En;Be.prototype[t]=function(t){return this[n](r(t))}}),Be.prototype.compact=function(){return this.filter(_i)},Be.prototype.dropWhile=function(t,e){var n;return t=er(t,e,3),this.filter(function(e,r,i){return n||(n=!t(e,r,i))})},Be.prototype.reject=function(t,e){return t=er(t,e,3),this.filter(function(e,n,r){return!t(e,n,r)})},Be.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=0>t?this.takeRight(-t):this.drop(t);return"undefined"!=typeof e&&(e=+e||0,n=0>e?n.dropRight(-e):n.take(e-t)),n},Be.prototype.toArray=function(){return this.drop(0)},vn(Be.prototype,function(t,e){var n=Me[e],r=/^(?:first|last)$/.test(e);Me.prototype[e]=function(){function e(t){return t=[t],$i.apply(t,o),n.apply(Me,t)}var i=this.__wrapped__,o=arguments,a=this.__chain__,u=!!this.__actions__.length,c=i instanceof Be,s=c&&!u;return r&&!a?s?t.call(i):n.call(Me,this.value()):c||Mo(i)?(i=t.apply(s?i:new Be(this),o),r||!u&&!i.__actions__||(i.__actions__||(i.__actions__=[])).push({func:Er,args:[e],thisArg:Me}),new Ne(i,a)):this.thru(e)}}),Ye("concat join pop push shift sort splice unshift".split(" "),function(t){var e=Ri[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:join|pop|shift)$/.test(t);Me.prototype[t]=function(){var t=arguments;return r&&!this.__chain__?e.apply(this.value(),t):this[n](function(n){return e.apply(n,t)})}}),Be.prototype.clone=function(){var t=this.__actions__,e=this.__iteratees__,n=this.__views__,r=new Be(this.__wrapped__);return r.__actions__=t?He(t):null,r.__dir__=this.__dir__,r.__dropCount__=this.__dropCount__,r.__filtered__=this.__filtered__,r.__iteratees__=e?He(e):null,r.__takeCount__=this.__takeCount__,r.__views__=n?He(n):null,r},Be.prototype.reverse=function(){if(this.__filtered__){var t=new Be(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t},Be.prototype.value=function(){var t=this.__wrapped__.value();if(!Mo(t))return Mn(t,this.__actions__);var e,n=this.__dir__,r=0>n;e=t.length;for(var i=this.__views__,o=0,a=-1,u=i?i.length:0;++a<u;){var c=i[a],s=c.size;switch(c.type){case"drop":o+=s;break;case"dropRight":e-=s;break;case"take":e=uo(e,o+s);break;case"takeRight":o=ao(o,e-s)}}e={start:o,end:e},a=e.start,u=e.end,e=u-a,i=this.__dropCount__,o=uo(e,this.__takeCount__),r=r?u:a-1,u=(a=this.__iteratees__)?a.length:0,c=0,s=[];t:for(;e--&&o>c;){for(var r=r+n,l=-1,f=t[r];++l<u;){var h=a[l],p=h.iteratee(f,r,t),h=h.type;if(h==B)f=p;else if(!p){if(h==N)continue t;break t}}i?i--:s[c++]=f}return s},Me.prototype.chain=function(){return Sr(this)},Me.prototype.commit=function(){return new Ne(this.value(),this.__chain__)},Me.prototype.plant=function(t){for(var e,n=this;n instanceof We;){var r=mr(n);e?i.__wrapped__=r:e=r;var i=r,n=n.__wrapped__}return i.__wrapped__=t,e},Me.prototype.reverse=function(){var t=this.__wrapped__;return t instanceof Be?(this.__actions__.length&&(t=new Be(this)),new Ne(t.reverse(),this.__chain__)):this.thru(function(t){return t.reverse()})},Me.prototype.toString=function(){return this.value()+""},Me.prototype.run=Me.prototype.toJSON=Me.prototype.valueOf=Me.prototype.value=function(){return Mn(this.__wrapped__,this.__actions__)},Me.prototype.collect=Me.prototype.map,Me.prototype.head=Me.prototype.first,Me.prototype.select=Me.prototype.filter,Me.prototype.tail=Me.prototype.rest,Me}var b,x="3.3.0",T=1,j=2,A=4,S=8,E=16,k=32,C=64,O=128,I=256,R=30,G="...",M=150,W=16,N=0,B=1,P=2,L="Expected a function",F="__lodash_placeholder__",U="[object Arguments]",q="[object Array]",H="[object Boolean]",Y="[object Date]",D="[object Error]",z="[object Function]",X="[object Number]",$="[object Object]",V="[object RegExp]",K="[object String]",Z="[object ArrayBuffer]",J="[object Float32Array]",Q="[object Float64Array]",te="[object Int8Array]",ee="[object Int16Array]",ne="[object Int32Array]",re="[object Uint8Array]",ie="[object Uint8ClampedArray]",oe="[object Uint16Array]",ae="[object Uint32Array]",ue=/\b__p\+='';/g,ce=/\b(__p\+=)''\+/g,se=/(__e\(.*?\)|\b__t\))\+'';/g,le=/&(?:amp|lt|gt|quot|#39|#96);/g,fe=/[&<>"'`]/g,he=RegExp(le.source),pe=RegExp(fe.source),ge=/<%-([\s\S]+?)%>/g,de=/<%([\s\S]+?)%>/g,me=/<%=([\s\S]+?)%>/g,ve=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_e=/\w*$/,ye=/^\s*function[ \n\r\t]+\w/,we=/^0[xX]/,be=/^\[object .+?Constructor\]$/,xe=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Te=/($^)/,je=/[.*+?^${}()|[\]\/\\]/g,Ae=RegExp(je.source),Se=/\bthis\b/,Ee=/['\n\r\u2028\u2029\\]/g,ke=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]{2,}(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),Ce=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",Oe="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout document isFinite parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap window WinRTError".split(" "),Ie={};Ie[J]=Ie[Q]=Ie[te]=Ie[ee]=Ie[ne]=Ie[re]=Ie[ie]=Ie[oe]=Ie[ae]=!0,Ie[U]=Ie[q]=Ie[Z]=Ie[H]=Ie[Y]=Ie[D]=Ie[z]=Ie["[object Map]"]=Ie[X]=Ie[$]=Ie[V]=Ie["[object Set]"]=Ie[K]=Ie["[object WeakMap]"]=!1;var Re={};Re[U]=Re[q]=Re[Z]=Re[H]=Re[Y]=Re[J]=Re[Q]=Re[te]=Re[ee]=Re[ne]=Re[X]=Re[$]=Re[V]=Re[K]=Re[re]=Re[ie]=Re[oe]=Re[ae]=!0,Re[D]=Re[z]=Re["[object Map]"]=Re["[object Set]"]=Re["[object WeakMap]"]=!1;var Ge={leading:!1,maxWait:0,trailing:!1},Me={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},We={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ne={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Be={"function":!0,object:!0},Pe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Le=Be[typeof window]&&window!==(this&&this.window)?window:this,Fe=Be[typeof exports]&&exports&&!exports.nodeType&&exports,Be=Be[typeof module]&&module&&!module.nodeType&&module,Ue=Fe&&Be&&"object"==typeof global&&global;!Ue||Ue.global!==Ue&&Ue.window!==Ue&&Ue.self!==Ue||(Le=Ue);var Ue=Be&&Be.exports===Fe&&Fe,qe=w();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Le._=qe,define(function(){return qe})):Fe&&Be?Ue?(Be.exports=qe)._=qe:Fe._=qe:Le._=qe}.call(this),Game.Outro=function(t){this.game=t},Game.Outro.prototype={create:function(){this.highestScore=JSON.parse(localStorage.getItem("highestScore")),this.game.physics.startSystem(Phaser.Physics.ARCADE),this.squarebmd=this.game.add.bitmapData(20,20),this.squarebmd.ctx.strokeStyle="#000",this.squarebmd.ctx.rect(0,0,20,20),this.squarebmd.ctx.fillStyle="#fff",this.squarebmd.ctx.fill(),this.colors=[16711680,255,16776960,65535,65280],leftEmitter=this.game.add.emitter(20,this.game.world.centerY-200),leftEmitter.bounce.setTo(.5,.5),leftEmitter.setXSpeed(100,200),leftEmitter.setYSpeed(-50,50),leftEmitter.makeParticles(this.squarebmd,0,250,1,!0),leftEmitter.forEach(function(t){this.colors=[16711680,255,16776960,65535,65280],t.tint=this.colors[this.game.rnd.between(0,4)]}),rightEmitter=this.game.add.emitter(this.game.world.width-20,this.game.world.centerY-200),rightEmitter.bounce.setTo(.5,.5),rightEmitter.setXSpeed(-100,-200),rightEmitter.setYSpeed(-50,50),rightEmitter.makeParticles(this.squarebmd,1,250,1,!0),rightEmitter.forEach(function(t){this.colors=[16711680,255,16776960,65535,65280],t.tint=this.colors[this.game.rnd.between(0,4)]}),leftEmitter.start(!1,4e3,15),rightEmitter.start(!1,4e3,15),this.movesText=this.game.add.bitmapText(this.game.world.centerX,this.game.world.centerY-200,"minecraftia","In Twenty Moves...",32),this.movesText.align="center",this.movesText.updateText(),this.movesText.x=this.game.world.centerX-.5*this.movesText.textWidth,this.scoreText=this.game.add.bitmapText(this.game.world.centerX,this.game.world.centerY-100,"minecraftia","Your Score: "+Game.score,32),this.scoreText.align="center",this.scoreText.updateText(),this.scoreText.x=this.game.world.centerX-.5*this.scoreText.textWidth,this.highText=this.game.add.bitmapText(this.game.world.centerX,this.game.world.centerY,"minecraftia","Your Highest Score: "+this.highestScore,32),this.highText.align="center",this.highText.updateText(),this.highText.x=this.game.world.centerX-.5*this.highText.textWidth,this.twitterButton=this.game.add.button(this.game.world.centerX,this.game.world.centerY+100,"twitter",this.twitter,this),this.twitterButton.anchor.set(.5),this.twitterButton.fixedToCamera=!0,this.clickHereButton=this.game.add.button(this.game.world.centerX,this.game.world.centerY+200,"clickHere",function(){this.game.state.start("Play")},this),this.clickHereButton.anchor.set(.5),this.clickHereButton.fixedToCamera=!0},twitter:function(){window.open("http://twitter.com/share?text=My+best+score+is+"+this.highestScore+"+playing+Match3.+See+if+you+can+beat+it.+at&via=rantt_&url=http://www.divideby5.com/games/match3/&hashtags=match3,1GAM","_blank")}};var game=new Phaser.Game(Game.w,Game.h,Phaser.AUTO,"game");game.state.add("Boot",Game.Boot),game.state.add("Load",Game.Load),game.state.add("Menu",Game.Menu),game.state.add("Play",Game.Play),game.state.add("Outro",Game.Outro),game.state.start("Boot");